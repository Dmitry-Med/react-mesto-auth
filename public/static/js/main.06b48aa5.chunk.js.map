{"version":3,"sources":["images/close-icon.svg","images/logo.svg","images/pen.svg","images/plus.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","contexts/CardsContext.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","index.js"],"names":["module","exports","Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardDelete","onCardLike","currentUser","useContext","isOwn","owner","_id","cardTrashButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onClick","_","type","length","CardsContext","Main","onEditProfile","onAddPlace","onEditAvatar","cards","style","backgroundImage","avatar","editButton","about","addButton","aria-label","map","key","Footer","Date","getFullYear","PopupWithForm","isOpen","title","children","onSubmit","buttonText","onClose","closeButton","noValidate","ImagePopup","EditProfilePopup","onUpdateUser","useState","setName","setAbout","useEffect","e","preventDefault","placeholder","value","onChange","target","required","minLength","maxLength","id","EditAvatarPopup","onUpdateAvatar","setAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","api","baseUrl","headers","this","res","ok","json","Promise","reject","status","all","getInitialCards","getUserInfo","fetch","then","resFetch","method","body","JSON","stringify","cardId","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isTrashOpen","setIsTrashOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getAppInfo","info","Provider","onTrashClick","putDislike","newCard","newCards","c","putLike","removeCard","filter","editUserInfo","editAvatar","addNewCard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.06b48aa5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/close-icon.7a7bc9d4.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.e889e45f.svg\";","module.exports = __webpack_public_path__ + \"static/media/pen.b9b65c7e.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus.50cf4861.svg\";","import React from \"react\";\r\nimport headerLogo from \"../images/logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img\r\n        className=\"header__logo\"\r\n        src={headerLogo}\r\n        alt=\"Логотип Место Россия\"\r\n      />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nexport const CurrentUserContext = React.createContext();\r\n","import React, { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ card, onCardClick, onCardDelete, onCardLike }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardTrashButtonClassName = ` ${\r\n    isOwn ? \"card__trash\" : \"card__trash_hidden\"\r\n  }`;\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `${\r\n    isLiked ? \"card__like_active\" : \"card__like\"\r\n  }`;\r\n\r\n  return (\r\n    <li className=\"card\">\r\n      <img\r\n        src={card.link}\r\n        alt={card.name}\r\n        className=\"card__image\"\r\n        onClick={(_) => onCardClick(card)}\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        className={cardTrashButtonClassName}\r\n        onClick={(_) => onCardDelete(card)}\r\n      ></button>\r\n      <div className=\"card__text-box\">\r\n        <h3 className=\"card__title\">{card.name}</h3>\r\n        <div className=\"card__like-box\">\r\n          <button\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={(_) => onCardLike(card)}\r\n          ></button>\r\n          <p className=\"card__like-counter\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nexport const CardsContext = React.createContext();\r\n","import React, { useContext } from \"react\";\r\nimport editButton from \"../images/pen.svg\";\r\nimport addButton from \"../images/plus.svg\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport { CardsContext } from \"../contexts/CardsContext\";\r\n\r\nfunction Main({\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const cards = useContext(CardsContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__avatar \"\r\n          onClick={onEditAvatar}\r\n          style={{ backgroundImage: ` url(${currentUser.avatar})` }}\r\n        />\r\n        <div className=\"profile__text-box\">\r\n          <div className=\"profile__name-box\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button\r\n              className=\"edit-button edit-button_opened\"\r\n              onClick={onEditProfile}\r\n            >\r\n              <img\r\n                className=\"edit-button__img\"\r\n                src={editButton}\r\n                alt=\"Кнопка редактирования\"\r\n              />\r\n            </button>\r\n          </div>\r\n          <p className=\"profile__about\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"add-button add-button_opened\" onClick={onAddPlace}>\r\n          <img\r\n            className=\"add-button__img\"\r\n            src={addButton}\r\n            alt=\"Кнопка Добавить\"\r\n          />\r\n        </button>\r\n      </section>\r\n      <section className=\"cards\" aria-label=\"Карточки\">\r\n        <ul className=\"cards__list\">\r\n          {cards.map((card) => (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={onCardClick}\r\n              onCardDelete={onCardDelete}\r\n              onCardLike={onCardLike}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">\r\n        &#169; {new Date().getFullYear()} Mesto Russia\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport closeButton from \"../images/close-icon.svg\";\r\n\r\nfunction PopupWithForm({\r\n  isOpen,\r\n  name,\r\n  title,\r\n  children,\r\n  onSubmit,\r\n  buttonText,\r\n  onClose,\r\n}) {\r\n  return (\r\n    <div\r\n      className={\r\n        isOpen ? `popup popup__${name} popup_opened` : ` popup popup__${name}`\r\n      }\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button className=\"popup__close\">\r\n          <img\r\n            className=\"popup__close-img\"\r\n            src={closeButton}\r\n            alt=\"Закрывающая кнопка\"\r\n            onClick={onClose}\r\n          />\r\n        </button>\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form\r\n          name={`${name}form`}\r\n          className={`popup__form popup__form_${name}`}\r\n          onSubmit={onSubmit}\r\n          noValidate\r\n        >\r\n          {children}\r\n          <button className=\"popup__button\" type=\"submit\">\r\n            {buttonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport closeButton from \"../images/close-icon.svg\";\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n  return (\r\n    <div\r\n      className={\r\n        card ? \"popup popup_theme_dark popup_opened  popup_place\" : \"popup\"\r\n      }\r\n    >\r\n      <div className=\"popup__place-container\">\r\n        <img\r\n          src={card && card.link}\r\n          alt={card && card.name}\r\n          className=\"popup__image\"\r\n        />\r\n\r\n        <button className=\"popup__close\">\r\n          <img\r\n            className=\"popup__close-img\"\r\n            src={closeButton}\r\n            alt=\"Закрывающая кнопка\"\r\n            onClick={onClose}\r\n          />\r\n        </button>\r\n        <p className=\"popup__place-title\">{card && card.name}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [name, setName] = useState(\"\");\r\n  const [about, setAbout] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setAbout(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeAbout(e) {\r\n    setAbout(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name: name,\r\n      about: about,\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit\"\r\n      isOpen={isOpen}\r\n      title=\"Редактировать профиль\"\r\n      buttonText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n      children={\r\n        <>\r\n          <div className=\"popup__input-field\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"username\"\r\n              placeholder=\"Имя\"\r\n              className=\"popup__input  popup__input_type_name\"\r\n              value={name}\r\n              onChange={handleChangeName}\r\n              required\r\n              minLength=\"2\"\r\n              maxLength=\"20\"\r\n            />\r\n            <span className=\"popup__error\" id=\"username-error\"></span>\r\n          </div>\r\n          <div className=\"popup__input-field\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"about\"\r\n              placeholder=\"Род занятий\"\r\n              className=\" popup__input popup__input_type_about\"\r\n              value={about}\r\n              onChange={handleChangeAbout}\r\n              required\r\n              minLength=\"2\"\r\n              maxLength=\"200\"\r\n            />\r\n            <span className=\"popup__error\" id=\"about-error\"></span>\r\n          </div>\r\n        </>\r\n      }\r\n      onClose={onClose}\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React, { useRef, useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const [avatar, setAvatar] = useState(\"\");\r\n  const avatarRef = useRef();\r\n\r\n  function handleChangeAvatar(e) {\r\n    setAvatar(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n    setAvatar(\"\");\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"update\"\r\n      isOpen={isOpen}\r\n      title=\"Обновить аватар\"\r\n      buttonText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n      children={\r\n        <>\r\n          <div className=\"popup__input-field\">\r\n            <input\r\n              type=\"url\"\r\n              name=\"avatar\"\r\n              placeholder=\"Ссылка на аватар\"\r\n              className=\" popup__input popup__input_type_avatar\"\r\n              value={avatar}\r\n              ref={avatarRef}\r\n              onChange={handleChangeAvatar}\r\n              required\r\n            />\r\n            <span className=\"popup__error\" id=\"avatar-error\"></span>\r\n          </div>\r\n        </>\r\n      }\r\n      onClose={onClose}\r\n    />\r\n  );\r\n}\r\nexport default EditAvatarPopup;\r\n","import React, { useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [name, setName] = useState(\"\");\r\n  const [link, setLink] = useState(\"\");\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    });\r\n    setName(\"\");\r\n    setLink(\"\");\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add\"\r\n      isOpen={isOpen}\r\n      title=\"Новое место\"\r\n      buttonText=\"Создать\"\r\n      onSubmit={handleSubmit}\r\n      children={\r\n        <>\r\n          <div className=\"popup__input-field\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              placeholder=\"Название\"\r\n              className=\"popup__input popup__input_type_cardname\"\r\n              value={name}\r\n              onChange={handleChangeName}\r\n              required\r\n              minLength=\"1\"\r\n              maxLength=\"30\"\r\n            />\r\n            <span className=\"popup__error\" id=\"name-error\"></span>\r\n          </div>\r\n          <div className=\"popup__input-field\">\r\n            <input\r\n              type=\"url\"\r\n              name=\"link\"\r\n              placeholder=\"Ссылка на картинку\"\r\n              className=\" popup__input popup__input_type_link\"\r\n              value={link}\r\n              onChange={handleChangeLink}\r\n              required\r\n            />\r\n            <span className=\"popup__error\" id=\"link-error\"></span>\r\n          </div>\r\n        </>\r\n      }\r\n      onClose={onClose}\r\n    />\r\n  );\r\n}\r\nexport default AddPlacePopup;\r\n","export class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this.baseUrl = baseUrl;\r\n    this.headers = headers;\r\n  }\r\n\r\n  resFetch(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getAppInfo() {\r\n    return Promise.all([this.getInitialCards(), this.getUserInfo()]);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      headers: this.headers,\r\n    }).then((res) => this.resFetch(res));\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      headers: this.headers,\r\n    }).then((res) => this.resFetch(res));\r\n  }\r\n\r\n  addNewCard({ name, link }) {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this.headers,\r\n      body: JSON.stringify({ name, link }),\r\n    }).then((res) => this.resFetch(res));\r\n  }\r\n\r\n  removeCard(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this.headers,\r\n    }).then((res) => this.resFetch(res));\r\n  }\r\n\r\n  editUserInfo({ name, about }) {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this.headers,\r\n      body: JSON.stringify({ name, about }),\r\n    }).then((res) => this.resFetch(res));\r\n  }\r\n\r\n  editAvatar(avatar) {\r\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this.headers,\r\n      body: JSON.stringify(avatar),\r\n    }).then((res) => this.resFetch(res));\r\n  }\r\n\r\n  putLike(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n      method: \"PUT\",\r\n      headers: this.headers,\r\n    }).then((res) => this.resFetch(res));\r\n  }\r\n\r\n  putDislike(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this.headers,\r\n    }).then((res) => this.resFetch(res));\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-14\",\r\n  headers: {\r\n    authorization: \"06b5f418-925e-4016-b3b3-00b212bba538\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport { CardsContext } from \"../contexts/CardsContext\";\r\nimport { api } from \"../utils/api.js\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isTrashOpen, setIsTrashOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n\r\n  useEffect(() => {\r\n    api.getAppInfo().then((res) => {\r\n      const [cards, info] = res;\r\n      setCurrentUser(info);\r\n      setCards(cards);\r\n    });\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    if (!isLiked) {\r\n      api.putLike(card._id).then((newCard) => {\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        setCards(newCards);\r\n      });\r\n    } else {\r\n      api.putDislike(card._id).then((newCard) => {\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        setCards(newCards);\r\n      });\r\n    }\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.removeCard(card._id).then(() => {\r\n      const newCards = cards.filter((c) => c._id !== card._id);\r\n      setCards(newCards);\r\n    });\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleTrashClick() {\r\n    setIsTrashOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsTrashOpen(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  function handleUpdateUser({ name, about }) {\r\n    api.editUserInfo({ name, about }).then((res) => {\r\n      setCurrentUser(res);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    api.editAvatar(avatar).then((res) => {\r\n      setCurrentUser(res);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function handleAddPlace({ name, link }) {\r\n    api.addNewCard({ name, link }).then((newCard) => {\r\n      setCards([newCard, ...cards]);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <CardsContext.Provider value={cards}>\r\n        <div className=\"page\">\r\n          <div className=\"page__container\">\r\n            <Header />\r\n            <Main\r\n              onEditProfile={handleEditProfileClick}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onCardClick={handleCardClick}\r\n              onTrashClick={handleTrashClick}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete}\r\n            />\r\n            <Footer />\r\n            <EditProfilePopup\r\n              isOpen={isEditProfilePopupOpen}\r\n              onClose={closeAllPopups}\r\n              onUpdateUser={handleUpdateUser}\r\n            />\r\n\r\n            <EditAvatarPopup\r\n              isOpen={isEditAvatarPopupOpen}\r\n              onClose={closeAllPopups}\r\n              onUpdateAvatar={handleUpdateAvatar}\r\n            />\r\n\r\n            <AddPlacePopup\r\n              isOpen={isAddPlacePopupOpen}\r\n              onClose={closeAllPopups}\r\n              onAddPlace={handleAddPlace}\r\n            />\r\n\r\n            <PopupWithForm\r\n              name=\"confirm\"\r\n              isOpen={isTrashOpen}\r\n              title=\"Вы уверены?\"\r\n              buttonText=\"Да\"\r\n              onClose={closeAllPopups}\r\n            />\r\n            <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n          </div>\r\n        </div>\r\n      </CardsContext.Provider>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}